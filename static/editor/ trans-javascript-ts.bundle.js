"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[529,381],{2413:function(e,n,t){t.r(n),t.d(n,{descriptor:function(){return o},execute:function(){return r}});var a=t(4414),o={deps:{min:0,max:1/0},inputs:{code:{type:"textarea",defaultValue:'\nfunction operation(el){  //以免多餘贅字造成比較時的不同\n    var newElement = el.trim() //刪除字串前後空白(包含\\t嗎?)\n    newElement = parseInt(newElement).toString() //刪除leading zero\n    return newElement \n}\n\nvar data1 = toFrame(datas[0])\nvar data2 = toFrame(datas[1])\n\nvar operatedOne=data1.loc({columns:["統一編號"]}).apply({callable:operation}).values.flat()\nvar operatedTwo=data2.loc({columns:["統一編號"]}).apply({callable:operation}).values.flat()\n\ndata1.drop({ columns: ["統一編號"],inplace:true})\ndata2.drop({ columns: ["統一編號"],inplace:true})\n\nconsole.log(operatedOne)\n\ndata1.addColumn({column:"統一編號",value:operatedOne})\ndata2.addColumn({column:"統一編號",value:operatedTwo})\nvar result = dfd.merge({left:data1,right:data2,on:["統一編號"]})\n\nreturn result.values\n'.replace(/\s{2,}/g," "),height:"300px",spellCheck:"false"}}};function r({datas:e,config:n}){var t=n.code.trim();return t?new Promise((function(n){var o=a.getProcessID(),{resultQue:r,timeoutQue:l,worker:u}=a;l[o]=setInterval((function(){void 0!==r[o]&&(n(r.splice(o,1,void 0)[0]),clearInterval(l.splice(o,1,void 0)[0]))}),100),u.postMessage({processID:o,code:t,datas:e})})):(console.log("empty code"),Promise.resolve([]))}},4414:function(e,n,t){t.r(n),t.d(n,{getProcessID:function(){return u},resultQue:function(){return r},timeoutQue:function(){return l},worker:function(){return a}});const a=new Worker(new URL(t.p+t.u(222),t.b));let o=0;const r=[],l=[];function u(){return o++}a.onmessage=async function(e){console.log("new",e.data),r[e.data.processID]=e.data.result}}}]);