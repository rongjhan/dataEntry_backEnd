"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[994,403,712,918],{219:function(t,e,a){a.r(e);var r=a(9360);function i(){this.setPadding(this.padding),this.chartWidth=this.width-this.padLeft-this.padRight,this.chartHeight=this.height-this.padTop-this.padBottom,this.svg=this.createSvg()}i.prototype.setPadding=function(t){var e=t.split(",");switch(e.length){case 1:e.length=4,e.fill(e[0],1,4);break;case 2:e.splice(2,0,...e);break;case 3:e.push(e[2])}this.padTop=parseInt(e[0]),this.padRight=parseInt(e[1]),this.padBottom=parseInt(e[2]),this.padLeft=parseInt(e[3])},i.prototype.renderTitle=function(){this.title&&this.svg.append("text").attr("x",this.chartWidth/2+this.padLeft).attr("y",this.padTop-5).attr("text-anchor","middle").attr("font-size",20).text(this.title)},i.prototype.rendersvgBGC=function(){this.svg.append("path").attr("d",`M${this.padLeft} ${this.padTop} v${this.chartHeight} h${this.chartWidth} v${-this.chartHeight} h${-this.chartWidth} M0 0 h${this.width} v${this.height} h${-this.width} v${-this.height}`).attr("stroke",this.svgBGC).attr("fill",this.svgBGC)},i.prototype.renderBorder=function(){this.svg.append("path").attr("d",`M${this.padLeft} ${this.padTop} v${this.chartHeight} h${this.chartWidth} v${-this.chartHeight} h${-this.chartWidth}`).attr("stroke","black").attr("fill","none")},i.prototype.createSvg=function(){var t=r.Ue8("svg").attr("width",this.width).attr("height",this.height).style("border","2px solid black");return t.append("rect").attr("x",this.padLeft).attr("y",this.padTop).attr("width",this.chartWidth).attr("height",this.chartHeight).attr("fill",this.chartBGC).attr("stroke","none"),t},e.default=i},8755:function(t,e,a){a.r(e);var r=a(9360),i=a(4886),s=a(219),h=a(400);function n(t){s.default.call(this),this.colorScale=r.aE8(r.M7X[9]),this.legendScale=r.BYU().range([this.legendHeight,0]),this.data=this.transData(t)}n.prototype=Object.create(s.default.prototype),n.prototype.constructor=n,n.prototype.transData=function(t){var e=t[0].slice(1);return this.getTopoObject.then((t=>{console.log(t);var a=i.zL(t,t.objects[this.geoLevel]);this.projection.fitSize([this.chartWidth,this.chartHeight],a),this.projection.clipExtent&&this.projection.clipExtent([[0,0],[this.chartWidth,this.chartHeight]]);var r=a.features;for(var s of r){var h=e.find((t=>s.properties[this.areaId]==t[0]));s.properties.index=h?h[1]:null}return r}))},n.prototype.setDomain=function(t){var e=r.Wem(t,(function(t){return t.properties.index}));this.colorScale.domain(e).nice(),this.legendScale.domain(this.colorScale.domain())},n.prototype.renderBody=function(t){var e=[],a=r.l49(this.projection),i=(this.graticule,this.svg.append("g").attr("class","map").attr("transform",`translate(${this.padLeft},${this.padTop})`));this.graticule&&i.selectAll("path.graticule").data([this.graticule()]).enter().append("path").classed("graticule",!0).attr("d",a).attr("stroke-dasharray",2).attr("stroke","#dfe6e9"),i.selectAll(".area").data(t).enter().append("path").attr("class","area").attr("d",a).attr("stroke-width",1).attr("stroke",this.border||"black").attr("fill",(t=>t.properties.index?this.colorScale(t.properties.index):(e.push(t.properties.name),"darkgray"))),console.log("unFillArea:",e)},n.prototype.renderLegend=function(){this.svg.append("g").attr("class","legend").call(h.legend.bind(this))},n.prototype.addBehave=function(){var t=this.svg.select(".legend").append("line").attr("class","index").attr("x1",0).attr("x2",this.legendWidth).attr("y1",this.legendHeight).attr("y2",this.legendHeight).attr("stroke-width",2).attr("stroke","black");this.svg.selectAll(".area").on("mouseenter",(e=>{var a=e.target.__data__,i=this.legendScale(a.properties.index);t.transition().ease(r.gI4).attr("y1",i).attr("y2",i)})),this.svg.selectAll(".area").on("mouseleave",(e=>{t.transition().ease(r.m2c).attr("y1",this.legendHeight).attr("y2",this.legendHeight)}))},n.prototype.render=async function(){var t=await this.data;return this.setDomain(t),this.renderBody(t),this.rendersvgBGC(),this.renderBorder(),this.renderTitle(),this.renderLegend(),this.addBehave(),this.svg.node()},e.default=n},2228:function(t,e,a){a.r(e),a.d(e,{descriptor:function(){return s},execute:function(){return h}});var r=a(8755),i=a(9360),s={deps:{min:1,max:1},inputs:{width:{type:"number",defaultValue:730},height:{type:"number",defaultValue:350},padding:{type:"text",defaultValue:"20,20,20,20"},legendX:{type:"number",defaultValue:40},legendY:{type:"number",defaultValue:150},legendHeight:{type:"number",defaultValue:150},legendWidth:{type:"number",defaultValue:20},geoLevel:{type:"selection",options:["states"],defaultValue:"states"},areaId:{type:"selection",options:["name"],defaultValue:"name"},border:{type:"selection",options:["#C0C0C0"],defaultValue:"#C0C0C0"},svgBGC:{type:"color",defaultValue:"#ffffff"},chartBGC:{type:"color",defaultValue:"#F5F5F5"}}};function h({datas:t,config:e}){for(var a in e){var i=e[a];void 0!==i&&(this[a]=i)}r.default.call(this,t)}h.prototype=Object.create(r.default.prototype),h.prototype.constructor=h;for(let t in s.config){var n=s.config[t].defaultValue;h.prototype[t]=n}h.prototype.getTopoObject=fetch("pic/us.geojson").then((t=>t.json())),h.prototype.graticule=void 0,h.prototype.projection=i.wk1()},400:function(t,e,a){a.r(e),a.d(e,{legend:function(){return i}});var r=a(9360);function i(t){var e=this.colorScale.range().reverse(),a=this.legendHeight/e.length;t.attr("transform",`translate(${this.legendX},${this.legendY})`),t.selectAll(".level").data(e).enter().append("rect").attr("class","level").attr("x",0).attr("y",(function(t,e){return e*a})).attr("height",a).attr("width",this.legendWidth).attr("fill",(function(t){return t}));var i=r.Khx().scale(this.legendScale).ticks(4);t.append("g").attr("class","legendAxis").attr("transform",`translate(${this.legendWidth},0)`).call(i)}}}]);